name:         language-dot
version:      0.0.8
category:     Language
synopsis:     A library for the analysis and creation of Graphviz DOT files
description:  A library for the analysis and creation of Graphviz DOT files.
author:       Brian Lewis <brian@lorf.org>
maintainer:   Brian Lewis <brian@lorf.org>
copyright:    (c) 2009 Galois, Inc.
license:      BSD3
license-file: LICENSE

cabal-version: >= 1.8
build-type:    Simple

extra-source-files:
  src/test.hs

flag executable
  description: Build the `ppdot' executable.
  default:     True

library
  hs-source-dirs:
    src

  exposed-modules:
    Language.Dot
    Language.Dot.Parser
    Language.Dot.Pretty
    Language.Dot.Syntax

  build-depends:
    base    == 4.*,
    mtl     == 1.* || == 2.*,
    parsec  == 3.*,
    pretty  == 1.*

  ghc-options: -Wall
  if impl(ghc >= 6.8)
    ghc-options: -fwarn-tabs

executable ppdot
  if flag(executable)
    buildable: True
  else
    buildable: False

  hs-source-dirs: ppdot

  main-is: Main.hs
  build-depends:
    base    == 4.*,
    mtl     == 1.* || == 2.*,
    language-dot

  ghc-options: -Wall
  if impl(ghc >= 6.8)
    ghc-options: -fwarn-tabs

Flag prof
  Description:         Profiling
  Default:             True

test-suite test
  type: exitcode-stdio-1.0
  main-is: Main.hs
  if flag(prof)
    ghc-options:
      -fprof-auto
      "-with-rtsopts=-p -s -h"
  other-modules:
    Language.Dot.Parser
    Language.Dot.Pretty
    Language.Dot.Syntax
  hs-source-dirs: test, src
  ghc-options: -Wall
  cpp-options: -DTEST
  build-depends:
    base             == 4.*,
    generic-random   == 1.2.*,
    parsec           == 3.*,
    pretty           == 1.*,
    tasty            >= 1.1 && <= 1.3,
    tasty-hunit      == 0.10.*,
    tasty-quickcheck == 0.10.*,
    tasty-smallcheck >= 0.7 && <0.9,
    smallcheck       == 1.1.*
source-repository head
  type:     git
  location: https://github.com/bsl/language-dot
